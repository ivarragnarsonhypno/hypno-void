<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trance State Generator v3.1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
            color: #fff;
            font-family: 'Inter', system-ui, sans-serif;
        }
        canvas {
            display: block;
            /* High contrast BW look */
            filter: contrast(1.5) brightness(1.1);
        }
        .controls-overlay {
            position: absolute;
            bottom: 20px; 
            left: 50%;
            transform: translateX(-50%);
            background: rgba(5, 5, 5, 0.85);
            backdrop-filter: blur(16px);
            padding: 16px 20px; /* Reduced padding */
            border-radius: 20px; /* Slightly tighter corners */
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 90vw;
            width: 440px; /* Reduced width from 550px */
            z-index: 10;
            box-shadow: 0 20px 50px rgba(0,0,0,0.9);
        }
        .hidden-ui {
            opacity: 0;
            transform: translate(-50%, 20px);
            pointer-events: none;
        }
        input[type=range] {
            accent-color: #ffffff;
            height: 3px; /* Slimmer track */
            cursor: pointer;
            width: 100%;
            background: rgba(255,255,255,0.15);
            border-radius: 2px;
            -webkit-appearance: none;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 14px; /* Slightly smaller thumb */
            width: 14px;
            border-radius: 50%;
            background: #fff;
            margin-top: -5.5px; /* Centered on 3px track */
            box-shadow: 0 0 8px rgba(255,255,255,0.4);
        }
        input[type=range]::-webkit-slider-runnable-track {
            height: 3px;
            background: transparent;
        }
        .modal-bg {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            transition: opacity 0.8s ease;
        }
        .cmd-btn {
            @apply flex-1 py-2 px-1 text-[9px] tracking-tighter font-black rounded-lg border border-white/10 bg-white/5 hover:bg-white hover:text-black transition-all duration-300 uppercase;
        }
        /* Scanline effect */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 5;
            opacity: 0.2;
        }
        /* Subliminal Text Styles */
        .word-layer {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 4;
            pointer-events: none;
            text-align: center;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .word-active {
            opacity: 0;
            transition: all 1.5s cubic-bezier(0.16, 1, 0.3, 1);
            transform: scale(0.95);
            filter: blur(4px);
        }
        .word-visible {
            opacity: 0.5;
            transform: scale(1.0);
            filter: blur(0px);
        }
    </style>
</head>
<body>

    <div class="scanlines"></div>

    <div class="word-layer">
        <h2 id="hypnoWord" class="word-active text-3xl md:text-5xl font-black text-white tracking-widest uppercase mix-blend-overlay"></h2>
    </div>

    <div id="startModal" class="modal-bg">
        <div class="text-center p-12 max-w-lg">
            <h1 class="text-8xl font-black mb-2 tracking-tighter italic scale-y-125 text-white mix-blend-difference">OBEY</h1>
            <div class="w-full h-1 bg-white mb-6"></div>
            <p class="mb-10 text-gray-400 text-xs uppercase tracking-[0.6em]">Your Obedience Training Sequence</p>
            <button onclick="startExperience()" class="px-16 py-5 bg-white text-black font-black text-sm tracking-widest rounded-none hover:bg-gray-200 transition-all hover:scale-105 active:scale-95 shadow-[0_0_30px_rgba(255,255,255,0.3)]">
                INITIALIZE
            </button>
        </div>
    </div>

    <canvas id="spiralCanvas"></canvas>

    <div id="controls" class="controls-overlay hidden-ui">
        <div class="flex gap-1.5 mb-5">
            <button class="cmd-btn" onclick="setPreset(3, -0.02, 0.8)">Sleep</button>
            <button class="cmd-btn" onclick="setPreset(7, -0.05, 1.0)">Hypno</button>
            <button class="cmd-btn" onclick="setPreset(12, -0.1, 1.3)">Wake</button>
            <button class="cmd-btn" onclick="setPreset(20, -0.2, 1.6)">Flow</button>
        </div>

        <div class="grid grid-cols-2 gap-x-8 gap-y-4">
            <div class="space-y-3">
                <div class="flex justify-between text-[8px] font-black tracking-widest text-gray-500 uppercase">
                    <span>Velocity</span>
                    <span id="speedVal">-0.170</span>
                </div>
                <input type="range" id="speedRange" min="-0.3" max="0.3" step="0.001" value="-0.170">
                
                <div class="flex justify-between text-[8px] font-black tracking-widest text-gray-500 uppercase">
                    <span>Width</span>
                    <span id="thickVal">0.9x</span>
                </div>
                <input type="range" id="thickRange" min="0.2" max="2.5" step="0.1" value="0.9">
            </div>

            <div class="space-y-3">
                <div class="flex justify-between text-[8px] font-black tracking-widest text-gray-500 uppercase">
                    <span>Binaural</span>
                    <span id="freqVal">0.5Hz</span>
                </div>
                <input type="range" id="freqRange" min="0.5" max="40" step="0.5" value="0.5">
                
                <div class="flex justify-between text-[8px] font-black tracking-widest text-gray-500 uppercase">
                    <span>Volume</span>
                    <span id="volVal">13%</span>
                </div>
                <input type="range" id="volumeRange" min="0" max="0.6" step="0.01" value="0.13">
            </div>
        </div>
        
        <p class="text-center text-[8px] text-gray-600 mt-5 tracking-[0.3em] font-black uppercase opacity-60">Press 'H' to toggle Interface</p>
    </div>

    <script>
        const canvas = document.getElementById('spiralCanvas');
        const ctx = canvas.getContext('2d', { alpha: false }); 
        const startModal = document.getElementById('startModal');
        const controls = document.getElementById('controls');
        const wordEl = document.getElementById('hypnoWord');
        
        let width, height, centerX, centerY, maxRadius;
        let rotation = 0;
        let audioCtx, leftOsc, rightOsc, leftGain, rightGain, merger;
        let isStarted = false;

        const commands = [
            "aching", "always aroused", "always horny", "aroused", "blank", 
            "bliss", "streached", "blissfully", "calm", "calmer", "craving", "deep", "deeper",
            "drifting", "drop", "dropping", "empty", "empty mind", "enjoying", "floating",
            "focus", "follow", "wet", "horny", "hot", "keep looking", "keep reading", 
            "keep staring", "keep watching", "leaking", "looking", "no thoughts", 
            "pulsing", "reading", "relax", "relaxing", "sensitive", "sinking", "staring", 
            "tasty", "throbbing", "tingling", "wanting", "warm", "watching", "belong", 
            "brainwashed", "crave", "enslaved", "enthralled", "forced", 
            "must obey", "no choice", "no control", "obey", "only obey", "owned by Ivar", "repeat", 
            "stay for Daddy", "surrender", "taken", "totally trapped", "you must surrender", "aroused being seen by Ivar",
            "be seen", "naked", "displayed", "need to noticed", "observed", "seen", "show off to Daddy",
            "show skin", "show off to Daddy", "so aroused", "so horny", "watched", "good pet", "pet", "pet", 
            "be a good hypno whore", "be blank", "Be empty", "Be mindless",
            "Daddy knows best", "Good hypno whore", "Good hypno whores are blank", "Good hypno whores are brainwashed",
            "Good hypno whores are empty", "Good hypno whores are obedient", "Good hypno whores are submissive", 
            "Good hypno whores cant resist", "Good hypno whores have blank minds", "Good hypno whores have empty minds", 
            "Good hypno whores keep staring", "Good hypno whores love brainwashing", "Good hypno whores love hypnosis", 
            "Good hypno whores love their Daddy", "Good hypno whores love their Master", "Good hypno whores love their Owner", 
            "Good hypno whores love their spiral", "Good hypno whores love to drop", "Good hypno whores love to obey", "Good hypno whores love to submit",
            "Good hypno whores obey", "Good hypno whores obey their Daddy", "Good hypno whores obey their Master", "Good hypno whores obey their Owner", 
            "Good hypno whores obey", "Good hypno whores stare", "Good hypno whores submit", "Good hypno whores submit to their Daddy", 
            "Good hypno whores submit to their Master", "Good hypno whores submit to their Owner", "Ivar is your Daddy", "Ivar is your Master", 
            "Ivar is your Owner", "Ivar knows best", "Ivar owns you", "Master knows best", "Obey Ivar", "Owner knows best", "Submit to Ivar", 
            "You are Ivar's good hypno whore", "You are a good hypno whore for Ivar" , "You are property of Ivar", "You belong to Ivar"
        ];
        let wordLoopTimeout;

        const speedInput = document.getElementById('speedRange');
        const thickInput = document.getElementById('thickRange');
        const volumeInput = document.getElementById('volumeRange');
        const freqInput = document.getElementById('freqRange');

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            centerX = width / 2;
            centerY = height / 2;
            maxRadius = Math.sqrt(centerX * centerX + centerY * centerY) * 1.5;
        }

        window.addEventListener('resize', resize);
        resize();

        function startExperience() {
            startModal.style.opacity = '0';
            setTimeout(() => startModal.style.display = 'none', 800);
            controls.classList.remove('hidden-ui');
            isStarted = true;
            initAudio();
            animate();
            scheduleNextWord();
        }

        function scheduleNextWord() {
            if (!isStarted) return;
            const delay = 2000 + Math.random() * 3000;
            wordLoopTimeout = setTimeout(() => {
                showWord();
                scheduleNextWord();
            }, delay);
        }

        function showWord() {
            const word = commands[Math.floor(Math.random() * commands.length)];
            wordEl.innerText = word;
            requestAnimationFrame(() => {
                wordEl.classList.add('word-visible');
            });
            setTimeout(() => {
                wordEl.classList.remove('word-visible');
            }, 1500);
        }

        function initAudio() {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            audioCtx = new AudioContext();
            const baseFreq = 140; 
            
            leftOsc = audioCtx.createOscillator();
            rightOsc = audioCtx.createOscillator();
            leftGain = audioCtx.createGain();
            rightGain = audioCtx.createGain();
            merger = audioCtx.createChannelMerger(2);
            
            leftOsc.type = 'sine';
            rightOsc.type = 'sine';
            
            updateAudioParams();

            leftOsc.connect(leftGain);
            rightOsc.connect(rightGain);
            leftGain.connect(merger, 0, 0);
            rightGain.connect(merger, 0, 1);
            merger.connect(audioCtx.destination);
            
            leftOsc.start();
            rightOsc.start();
        }

        function updateAudioParams() {
            if(!audioCtx) return;
            const base = 140;
            const beat = parseFloat(freqInput.value);
            const vol = parseFloat(volumeInput.value);

            document.getElementById('freqVal').innerText = beat + 'Hz';
            document.getElementById('volVal').innerText = Math.round(vol * 100) + '%';
            document.getElementById('speedVal').innerText = parseFloat(speedInput.value).toFixed(3);
            document.getElementById('thickVal').innerText = parseFloat(thickInput.value).toFixed(1) + 'x';

            const time = audioCtx.currentTime + 0.1;
            leftOsc.frequency.setTargetAtTime(base, time, 0.1);
            rightOsc.frequency.setTargetAtTime(base + beat, time, 0.1);
            leftGain.gain.setTargetAtTime(vol, time, 0.1);
            rightGain.gain.setTargetAtTime(vol, time, 0.1);
        }

        function setPreset(freq, speed, thickness) {
            freqInput.value = freq;
            speedInput.value = speed;
            thickInput.value = thickness;
            updateAudioParams();
        }

        [freqInput, volumeInput, speedInput, thickInput].forEach(input => {
            input.addEventListener('input', updateAudioParams);
        });

        function drawSpiral() {
            ctx.fillStyle = 'rgba(0, 0, 0, 1)'; 
            ctx.fillRect(0, 0, width, height);

            const speed = parseFloat(speedInput.value);
            const thicknessMult = parseFloat(thickInput.value);
            
            rotation += speed;

            ctx.save();
            ctx.translate(centerX, centerY);
            
            const numArms = 1;

            for(let arm = 0; arm < numArms; arm++) {
                const armOffset = (Math.PI * 2 / numArms) * arm;
                for (let i = 0; i < 400; i++) {
                    const t = i * 0.1; 
                    const angle = t + rotation + armOffset;
                    const r = 3.5 * Math.pow(t, 1.7); 
                    
                    if (r > maxRadius * 1.5) break; 

                    const t2 = t + 0.1;
                    const angle2 = t2 + rotation + armOffset;
                    const r2 = 3.5 * Math.pow(t2, 1.7);

                    const x1 = r * Math.cos(angle);
                    const y1 = r * Math.sin(angle);
                    const x2 = r2 * Math.cos(angle2);
                    const y2 = r2 * Math.sin(angle2);
                    
                    const w = (r * Math.PI) / 15; 

                    ctx.beginPath();
                    ctx.moveTo(x1, y1);
                    ctx.lineTo(x2, y2);
                    
                    ctx.lineWidth = Math.max(1, (w * 0.4) * thicknessMult);
                    ctx.lineCap = 'round';
                    ctx.strokeStyle = '#fff';
                    ctx.stroke();
                }
            }
            
            ctx.beginPath();
            ctx.arc(0, 0, 2, 0, Math.PI*2);
            ctx.fillStyle = '#fff';
            ctx.fill();
            ctx.restore();
        }

        function animate() {
            drawSpiral();
            requestAnimationFrame(animate);
        }

        let uiTimeout;
        const handleMouseMove = () => {
            if(!isStarted) return;
            controls.classList.remove('hidden-ui');
            document.body.style.cursor = 'default';
            clearTimeout(uiTimeout);
            uiTimeout = setTimeout(() => {
                controls.classList.add('hidden-ui');
                document.body.style.cursor = 'none';
            }, 3000);
        };

        window.addEventListener('mousemove', handleMouseMove);
        window.addEventListener('touchstart', handleMouseMove);
        window.addEventListener('keydown', (e) => {
            if(e.key.toLowerCase() === 'h') controls.classList.toggle('hidden-ui');
        });

    </script>
</body>

</html>








